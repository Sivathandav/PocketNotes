{"ast":null,"code":"import _objectSpread from\"/Users/sri/Downloads/pocket-notes/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect,useCallback}from'react';import{storage}from'../services/storage';import{STORAGE_KEYS,COLORS}from'../utils/constants';import{getInitials,formatDateTime}from'../utils/helpers';export const useGroups=()=>{const[groups,setGroups]=useState(()=>storage.get(STORAGE_KEYS.GROUPS));const saveGroups=useCallback(newGroups=>{setGroups(newGroups);storage.set(STORAGE_KEYS.GROUPS,newGroups);},[]);const createGroup=useCallback((name,color)=>{if(name.trim().length<2)throw new Error('Group name must be at least 2 characters');if(groups.some(g=>g.name.toLowerCase()===name.trim().toLowerCase()))throw new Error('Group already exists');const newGroup={id:Date.now().toString(),name:name.trim(),color,initials:getInitials(name.trim()),createdAt:new Date().toISOString()};saveGroups([...groups,newGroup]);return newGroup;},[groups,saveGroups]);const updateGroup=useCallback((id,updates)=>{const updated=groups.map(g=>g.id===id?_objectSpread(_objectSpread({},g),updates):g);saveGroups(updated);},[groups,saveGroups]);const deleteGroup=useCallback(id=>{saveGroups(groups.filter(g=>g.id!==id));const notes=storage.get(STORAGE_KEYS.NOTES);delete notes[id];storage.set(STORAGE_KEYS.NOTES,notes);},[groups,saveGroups]);return{groups,createGroup,updateGroup,deleteGroup};};export const useNotes=groupId=>{const[notes,setNotes]=useState([]);useEffect(()=>{if(!groupId)return setNotes([]);const allNotes=storage.get(STORAGE_KEYS.NOTES);setNotes(allNotes[groupId]||[]);},[groupId]);const saveNotes=useCallback(newNotes=>{if(!groupId)return;const allNotes=storage.get(STORAGE_KEYS.NOTES);allNotes[groupId]=newNotes;storage.set(STORAGE_KEYS.NOTES,allNotes);setNotes(newNotes);},[groupId]);const addNote=useCallback(content=>{const{date,time}=formatDateTime();const newNote={id:Date.now().toString(),content:content.trim(),date,time,createdAt:new Date().toISOString()};saveNotes([...notes,newNote]);},[notes,saveNotes]);const updateNote=useCallback((id,content)=>{const{date,time}=formatDateTime();const updated=notes.map(n=>n.id===id?_objectSpread(_objectSpread({},n),{},{content:content.trim(),date,time,updatedAt:new Date().toISOString()}):n);saveNotes(updated);},[notes,saveNotes]);const deleteNote=useCallback(id=>{saveNotes(notes.filter(n=>n.id!==id));},[notes,saveNotes]);return{notes,addNote,updateNote,deleteNote};};export const useModal=function(){let initial=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const[isOpen,setIsOpen]=useState(initial);return{isOpen,open:()=>setIsOpen(true),close:()=>setIsOpen(false),toggle:()=>setIsOpen(prev=>!prev)};};","map":{"version":3,"names":["useState","useEffect","useCallback","storage","STORAGE_KEYS","COLORS","getInitials","formatDateTime","useGroups","groups","setGroups","get","GROUPS","saveGroups","newGroups","set","createGroup","name","color","trim","length","Error","some","g","toLowerCase","newGroup","id","Date","now","toString","initials","createdAt","toISOString","updateGroup","updates","updated","map","_objectSpread","deleteGroup","filter","notes","NOTES","useNotes","groupId","setNotes","allNotes","saveNotes","newNotes","addNote","content","date","time","newNote","updateNote","n","updatedAt","deleteNote","useModal","initial","arguments","undefined","isOpen","setIsOpen","open","close","toggle","prev"],"sources":["/Users/sri/Downloads/pocket-notes/src/hooks/useApp.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { storage } from '../services/storage';\nimport { STORAGE_KEYS, COLORS } from '../utils/constants';\nimport { getInitials, formatDateTime } from '../utils/helpers';\n\nexport const useGroups = () => {\n  const [groups, setGroups] = useState(() => storage.get(STORAGE_KEYS.GROUPS));\n\n  const saveGroups = useCallback((newGroups) => {\n    setGroups(newGroups);\n    storage.set(STORAGE_KEYS.GROUPS, newGroups);\n  }, []);\n\n  const createGroup = useCallback((name, color) => {\n    if (name.trim().length < 2) throw new Error('Group name must be at least 2 characters');\n    if (groups.some(g => g.name.toLowerCase() === name.trim().toLowerCase())) \n      throw new Error('Group already exists');\n\n    const newGroup = {\n      id: Date.now().toString(),\n      name: name.trim(),\n      color,\n      initials: getInitials(name.trim()),\n      createdAt: new Date().toISOString()\n    };\n    saveGroups([...groups, newGroup]);\n    return newGroup;\n  }, [groups, saveGroups]);\n\n  const updateGroup = useCallback((id, updates) => {\n    const updated = groups.map(g => g.id === id ? { ...g, ...updates } : g);\n    saveGroups(updated);\n  }, [groups, saveGroups]);\n\n  const deleteGroup = useCallback((id) => {\n    saveGroups(groups.filter(g => g.id !== id));\n    const notes = storage.get(STORAGE_KEYS.NOTES);\n    delete notes[id];\n    storage.set(STORAGE_KEYS.NOTES, notes);\n  }, [groups, saveGroups]);\n\n  return { groups, createGroup, updateGroup, deleteGroup };\n};\n\nexport const useNotes = (groupId) => {\n  const [notes, setNotes] = useState([]);\n\n  useEffect(() => {\n    if (!groupId) return setNotes([]);\n    const allNotes = storage.get(STORAGE_KEYS.NOTES);\n    setNotes(allNotes[groupId] || []);\n  }, [groupId]);\n\n  const saveNotes = useCallback((newNotes) => {\n    if (!groupId) return;\n    const allNotes = storage.get(STORAGE_KEYS.NOTES);\n    allNotes[groupId] = newNotes;\n    storage.set(STORAGE_KEYS.NOTES, allNotes);\n    setNotes(newNotes);\n  }, [groupId]);\n\n  const addNote = useCallback((content) => {\n    const { date, time } = formatDateTime();\n    const newNote = {\n      id: Date.now().toString(),\n      content: content.trim(),\n      date, time,\n      createdAt: new Date().toISOString()\n    };\n    saveNotes([...notes, newNote]);\n  }, [notes, saveNotes]);\n\n  const updateNote = useCallback((id, content) => {\n    const { date, time } = formatDateTime();\n    const updated = notes.map(n => n.id === id ? \n      { ...n, content: content.trim(), date, time, updatedAt: new Date().toISOString() } : n);\n    saveNotes(updated);\n  }, [notes, saveNotes]);\n\n  const deleteNote = useCallback((id) => {\n    saveNotes(notes.filter(n => n.id !== id));\n  }, [notes, saveNotes]);\n\n  return { notes, addNote, updateNote, deleteNote };\n};\n\nexport const useModal = (initial = false) => {\n  const [isOpen, setIsOpen] = useState(initial);\n  return {\n    isOpen,\n    open: () => setIsOpen(true),\n    close: () => setIsOpen(false),\n    toggle: () => setIsOpen(prev => !prev)\n  };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}